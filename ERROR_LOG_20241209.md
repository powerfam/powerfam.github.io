# 에러 로그 (2024-12-09)

## 현재 상태
SOTD 페이지 구현 완료 후 서버 시작 문제 발생

---

## 구현 완료 항목

### 1. Stoic Quote 데이터
- **파일:** `data/stoic-quotes.json`
- **내용:** 50개 명언 (EN/KR 이중 언어)
- **철학자:** 마르쿠스 아우렐리우스, 세네카, 에픽테토스, 제논 등

### 2. SOTD 페이지
- **파일:** `app/sotd/page.tsx`
- **기능:**
  - 랜덤 명언 표시
  - EN/KR 토글 (기본: KR)
  - 복사 기능
  - 이미지 다운로드 (1080x1080 PNG)
  - 새 명언 버튼

### 3. Header 메뉴
- **파일:** `components/Header.tsx`
- **변경:** `SOTD` 메뉴 추가 (Articles 옆)

---

## 발생 에러

### 에러 1: Webpack 모듈 에러
```
Server Error
Error: Cannot find module './vendor-chunks/@opentelemetry.js'
Require stack:
- .next/server/webpack-runtime.js
- .next/server/app/sotd/page.js
```

**원인:** `.next` 폴더 캐시 손상

**시도한 해결:**
```bash
rm -rf .next
npm run dev
```

### 에러 2: 서버 시작 지연
- WSL 환경에서 `.next` 폴더 재생성 매우 느림
- Windows 파일 시스템 I/O 성능 문제

### 에러 3: 리소스 404
```
layout.js:1  Failed to load resource: 404
main-app.js:1  Failed to load resource: 404
layout.css:1  Failed to load resource: 404
```

**원인:** 이전 서버 세션의 캐시된 파일 경로 불일치

---

## 내일 해결 방법

### 방법 1: 클린 재시작 (권장)
```bash
# 1. 모든 node 프로세스 종료
killall -9 node

# 2. .next 폴더 삭제
rm -rf .next

# 3. 서버 시작
npm run dev
```

### 방법 2: Windows PowerShell에서 직접 실행
```powershell
cd C:\Users\kiwoom\Documents\test_page\voti-blog-nextjs
Remove-Item -Recurse -Force .next
npm run dev
```

### 방법 3: node_modules 재설치 (최후의 수단)
```bash
rm -rf node_modules .next
npm install
npm run dev
```

---

## 추가로 확인할 사항

### 1. JSON import 경로 확인
`app/sotd/page.tsx` 파일의 import 문:
```typescript
import stoicQuotes from '@/data/stoic-quotes.json';
```

`@/` 경로가 올바르게 설정되어 있는지 확인 필요.

### 2. tsconfig.json 확인
```json
{
  "compilerOptions": {
    "baseUrl": ".",
    "paths": {
      "@/*": ["./*"]
    }
  }
}
```

### 3. next.config.mjs 확인
JSON import 지원 여부 확인

---

## 테스트 URL
- 메인: http://localhost:3000
- SOTD: http://localhost:3000/sotd

---

## 파일 목록
| 파일 | 상태 |
|------|------|
| `data/stoic-quotes.json` | ✅ 생성 완료 |
| `app/sotd/page.tsx` | ✅ 생성 완료 |
| `components/Header.tsx` | ✅ 수정 완료 |

---

---

## 추가 분석 (세션 후반)

### 핵심 문제
**WSL + Windows 파일 시스템 I/O 성능 문제**

- WSL에서 `/mnt/c/` 경로 접근 시 극도로 느림
- `.next` 폴더 재생성에 2-3분 이상 소요
- 서버 시작 후에도 첫 페이지 컴파일까지 수분 소요

### 권장 해결책

**Windows PowerShell에서 직접 실행 (가장 빠름):**
```powershell
cd C:\Users\kiwoom\Documents\test_page\voti-blog-nextjs
Remove-Item -Recurse -Force .next, .contentlayer -ErrorAction SilentlyContinue
npm run dev
```

**또는 프로젝트를 WSL 네이티브 경로로 이동:**
```bash
# WSL 내부 경로 사용 (훨씬 빠름)
cp -r /mnt/c/Users/kiwoom/Documents/test_page/voti-blog-nextjs ~/voti-blog-nextjs
cd ~/voti-blog-nextjs
npm run dev
```

---

**작성일:** 2024-12-09
**상태:** 서버 시작 문제로 테스트 미완료
**원인:** WSL ↔ Windows 파일 시스템 I/O 병목
